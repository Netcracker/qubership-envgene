{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "version": {
      "type": "string",
      "enum": [
        "2.0"
      ]
    },
    "name": {
      "type": "string"
    },
    "authConfig": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/AuthConfig"
      }
    },
    "mavenConfig": {
      "$ref": "#/definitions/MavenConfig"
    },
    "dockerConfig": {
      "$ref": "#/definitions/DockerConfig"
    },
    "goConfig": {
      "$ref": "#/definitions/GoConfig"
    },
    "rawConfig": {
      "$ref": "#/definitions/RawConfig"
    },
    "npmConfig": {
      "$ref": "#/definitions/NpmConfig"
    },
    "helmConfig": {
      "$ref": "#/definitions/HelmConfig"
    },
    "helmAppConfig": {
      "$ref": "#/definitions/HelmAppConfig"
    }
  },
  "required": [
    "version",
    "name",
    "mavenConfig",
    "dockerConfig"
  ],
  "definitions": {
    "AuthConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "credentialsId": {
          "type": "string"
        },
        "authType": {
          "type": "string",
          "enum": [
            "shortLived",
            "longLived"
          ]
        },
        "provider": {
          "type": "string",
          "enum": [
            "aws",
            "azure",
            "gcp"
          ]
        },
        "authMethod": {
          "type": "string",
          "enum": [
            "secret",
            "assume_role",
            "federation",
            "service_account",
            "oauth2",
            "user_pass"
          ]
        },
        "awsRegion": {
          "type": "string"
        },
        "awsDomain": {
          "type": "string"
        },
        "awsRoleARN": {
          "type": "string"
        },
        "awsRoleSessionPrefix": {
          "type": "string"
        },
        "gcpOIDC": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "URL": {
              "type": "string"
            },
            "customParams": {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                }
              }
            }
          },
          "required": [
            "URL"
          ]
        },
        "gcpRegProject": {
          "type": "string"
        },
        "gcpRegPoolId": {
          "type": "string"
        },
        "gcpRegProviderId": {
          "type": "string"
        },
        "gcpRegSAEmail": {
          "type": "string"
        },
        "azureTenantId": {
          "type": "string"
        },
        "azureACRResource": {
          "type": "string"
        },
        "azureACRName": {
          "type": "string"
        },
        "azureArtifactsResource": {
          "type": "string"
        }
      },
      "required": [
        "credentialsId"
      ]
    },
    "DockerConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "authConfig": {
          "type": "string"
        },
        "snapshotUri": {
          "type": "string"
        },
        "stagingUri": {
          "type": "string"
        },
        "releaseUri": {
          "type": "string"
        },
        "groupUri": {
          "type": "string"
        },
        "snapshotRepoName": {
          "type": "string"
        },
        "stagingRepoName": {
          "type": "string"
        },
        "releaseRepoName": {
          "type": "string"
        },
        "groupName": {
          "type": "string"
        }
      },
      "required": [
        "groupName",
        "groupUri",
        "releaseRepoName",
        "releaseUri",
        "snapshotRepoName",
        "snapshotUri",
        "stagingRepoName",
        "stagingUri"
      ]
    },
    "MavenConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "repositoryDomainName": {
          "type": "string"
        },
        "authConfig": {
          "type": "string"
        },
        "targetSnapshot": {
          "type": "string"
        },
        "targetStaging": {
          "type": "string"
        },
        "targetRelease": {
          "type": "string"
        },
        "snapshotGroup": {
          "type": "string"
        },
        "releaseGroup": {
          "type": "string"
        }
      },
      "required": [
        "releaseGroup",
        "repositoryDomainName",
        "snapshotGroup",
        "targetRelease",
        "targetSnapshot",
        "targetStaging"
      ]
    },
    "GoConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "authConfig": {
          "type": "string"
        },
        "repositoryDomainName": {
          "type": "string"
        },
        "goTargetSnapshot": {
          "type": "string"
        },
        "goTargetRelease": {
          "type": "string"
        },
        "goProxyRepository": {
          "type": "string"
        }
      },
      "required": [
        "repositoryDomainName",
        "goTargetSnapshot",
        "goTargetRelease",
        "goProxyRepository"
      ]
    },
    "RawConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "authConfig": {
          "type": "string"
        },
        "repositoryDomainName": {
          "type": "string"
        },
        "rawTargetSnapshot": {
          "type": "string"
        },
        "rawTargetRelease": {
          "type": "string"
        },
        "rawTargetStaging": {
          "type": "string"
        },
        "rawTargetProxy": {
          "type": "string"
        }
      },
      "required": [
        "repositoryDomainName",
        "rawTargetSnapshot",
        "rawTargetRelease",
        "rawTargetStaging",
        "rawTargetProxy"
      ]
    },
    "NpmConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "authConfig": {
          "type": "string"
        },
        "repositoryDomainName": {
          "type": "string"
        },
        "npmTargetSnapshot": {
          "type": "string"
        },
        "npmTargetRelease": {
          "type": "string"
        }
      },
      "required": [
        "repositoryDomainName",
        "npmTargetSnapshot",
        "npmTargetRelease"
      ]
    },
    "HelmConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "authConfig": {
          "type": "string"
        },
        "repositoryDomainName": {
          "type": "string"
        },
        "helmTargetStaging": {
          "type": "string"
        },
        "helmTargetRelease": {
          "type": "string"
        }
      },
      "required": [
        "repositoryDomainName",
        "helmTargetStaging",
        "helmTargetRelease"
      ]
    },
    "HelmAppConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "authConfig": {
          "type": "string"
        },
        "repositoryDomainName": {
          "type": "string"
        },
        "helmStagingRepoName": {
          "type": "string"
        },
        "helmReleaseRepoName": {
          "type": "string"
        },
        "helmGroupRepoName": {
          "type": "string"
        },
        "helmDevRepoName": {
          "type": "string"
        }
      },
      "required": [
        "repositoryDomainName",
        "helmStagingRepoName",
        "helmReleaseRepoName",
        "helmGroupRepoName",
        "helmDevRepoName"
      ]
    }
  }
}
